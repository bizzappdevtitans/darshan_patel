<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <!-- school student list view #T00341-->
    <record id="school_management_school_student_list_view" model="ir.ui.view">
        <field name="name">school_management_school_student_list_view</field>
        <field name="model">student.name</field>
        <field name="arch" type="xml">
            <tree>
                <field name="rollno" class="text-center" decoration-success="1" />
                <field name="name" />
                <field name="marks" widget="percentage" />
                <field name="university" />
                <field name="date_of_birth" />
                <field name="gender" />
                <field name="book_read_id" />
                <field name="teacher_ids" />
                <field name="result" widget="selection_badge" />
                <field name="phone" widget="phone" />
            </tree>
        </field>
    </record>

    <!-- school student form view #T00341-->
    <record id="school_management_school_student_form_view" model="ir.ui.view">
        <field name="name">school_management_school_student_form_view</field>
        <field name="model">student.name</field>
        <field name="arch" type="xml">
            <form string="Events" class="o_event_form_view">
                <header>
                    <button
                        name="button_study"
                        class="oe_highlight"
                        states="admitted"
                        string="Study"
                        type="object"
                        help="Move Appointment to In Progress state"
                    />

                    <button
                        name="button_admitted"
                        class="oe_highlight"
                        states="drop_out"
                        string="Admitted"
                        type="object"
                        help="Move Appointment to In Progress state"
                    />

                    <button
                        name="button_drop_out"
                        class="oe_highlight"
                        states="study"
                        string="Drop Out"
                        type="object"
                        help="Move Appointment to In Progress state"
                    />

                    <button
                        name="button_passed"
                        class="oe_highlight"
                        states="study"
                        string="Pass"
                        type="object"
                        help="Move Appointment to In Progress state"
                    />

                    <button
                        name="button_study"
                        class="oe_highlight"
                        states="passed"
                        string="Study"
                        type="object"
                        help="Move Appointment to In Progress state"
                    />

                    <field
                        name="state"
                        widget="statusbar"
                        statusbar_visible="admitted,study,drop_out,passed"
                    />

                    <button
                        name="%(school_management.action_select_player_view)d"
                        class="oe_highlight"
                        string="Select Player"
                        type="action"
                        help="Select Player"
                    />
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button
                            class="oe_stat_button"
                            type="object"
                            name="new_record_list"
                            icon="fa-trophy"
                        >
                            <field
                                string="Records"
                                name="student_record_count"
                                widget="statinfo"
                            />
                        </button>
                    </div>
                    <h1><field name="rollno" /></h1>
                    <group>
                        <group>
                            <field name="name" placeholder="Student name" />
                            <field
                                name="marks"
                                placeholder="Student marks"
                                widget="percentage"
                            />
                            <field name="date_of_birth" placeholder="Date of Birth" />
                            <field name="student_age" />
                            <field name="gender" placeholder="Select Gender" />
                            <field name="standard" />
                            <field name="semester" />
                        </group>
                        <group>
                            <field name="university" placeholder="University" />
                            <field name="phone" widget="phone" />
                            <field name="book_read_id" />
                            <field name="result" widget="selection_badge" />
                            <field name="admin_user_id" />
                        </group>
                    </group>
                    <notebook>
                        <page string="Book Records" name="school_sports_notebook_book">
                            <field name="library_book_record_ids" editable="top" />
                        </page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers" />
                    <field name="message_ids" widget="mail_thread" />
                    <field name="activity_ids" widget="mail_activity" />
                </div>
            </form>
        </field>
    </record>

    <!-- school student search view #T00341-->
    <record id="school_management_student_name_search_view" model="ir.ui.view">
        <field name="name">school_management_student_name_search_view</field>
        <field name="model">student.name</field>
        <field name="arch" type="xml">
                <search>
                    <field name="rollno" />
                    <field name="name" />
                    <field name="marks" />
                    <field name="university" />
                    <field name="date_of_birth" />
                    <field name="gender" />
                    <field name="state" />
                    <field name="student_age" />
                    <field name="admin_user_id" />
                </search>
        </field>
    </record>

    <!-- server action for execute code for records #T00410-->
    <record id="server_action_code" model="ir.actions.server">
            <field name="name">Mark As Passed</field>
            <field name="type">ir.actions.server</field>
            <field name="model_id" ref="model_student_name" />
            <field name="binding_model_id" ref="model_student_name" />
            <field name="state">code</field>
            <field name="code">
                for record in records:
                    if record.state == 'study':
                        record.button_passed()
            </field>
    </record>

    <!-- server action for send mail to users #T00410-->
    <record id="server_action_email" model="ir.actions.server">
            <field name="name">Mail</field>
            <field name="type">ir.actions.server</field>
            <field name="model_id" ref="model_student_name" />
            <field name="binding_model_id" ref="model_student_name" />
            <field name="state">email</field>
    </record>

    <!-- server action for schedule activity for user #T00410-->
    <record id="server_action_activity" model="ir.actions.server">
            <field name="name">Activity</field>
            <field name="type">ir.actions.server</field>
            <field name="model_id" ref="model_student_name" />
            <field name="binding_model_id" ref="model_student_name" />
            <field name="state">next_activity</field>
    </record>

    <!-- automated action record #T00420 -->
    <record id="school_management_automated_action" model="base.automation">
        <field name="name">Set Automated Action</field>
        <field name="model_id" ref="school_management.model_student_name" />
        <field name="state">object_write</field>
        <field name="trigger">on_write</field>
        <field name="filter_pre_domain">[('state', '=', 'admitted')]</field>
        <field name="active" eval="True" />
        <field name="filter_domain">[('state', '=', 'study')]</field>
    </record>


    <!-- school student action #T00341-->
    <record id="action_school_management" model="ir.actions.act_window">
        <field name="name">Student List</field>
        <field name="res_model">student.name</field>
        <field name="view_mode">tree,form</field>
    </record>
</odoo>
